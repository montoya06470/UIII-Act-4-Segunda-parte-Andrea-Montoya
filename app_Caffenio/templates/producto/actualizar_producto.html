{% extends 'base.html' %}
{% block title %}Actualizar Producto{% endblock %}
{% block content %}
<h2>Actualizar Producto</h2>
<form method="post" action="{% url 'realizar_actualizacion_producto' producto.id %}">
  {% csrf_token %}
  <div class="mb-3">
    <label>Nombre</label>
    <input class="form-control" name="nombre" value="{{ producto.nombre }}">
  </div>

  <div class="mb-3">
    <label>Descripción</label>
    <textarea class="form-control" name="descripcion" rows="3">{{ producto.descripcion }}</textarea>
  </div>

  <div class="mb-3">
    <label>Precio</label>
    <input class="form-control" name="precio" type="number" step="0.01" value="{{ producto.precio }}">
  </div>

  <div class="mb-3">
    <label>Stock</label>
    <input class="form-control" name="stock" type="number" value="{{ producto.stock }}">
  </div>

  <div class="mb-3">
    <label>Categoría</label>
    <select class="form-select" name="categoria">
      <option value="bebidas" {% if producto.categoria == "bebidas" %}selected{% endif %}>Bebidas</option>
      <option value="alimentos" {% if producto.categoria == "alimentos" %}selected{% endif %}>Alimentos</option>
      <option value="complementos" {% if producto.categoria == "complementos" %}selected{% endif %}>Complementos</option>
      <option value="otro" {% if producto.categoria == "otro" %}selected{% endif %}>Otro</option>
    </select>
  </div>

  <div class="mb-3">
    <label>Proveedor</label>
    <select class="form-select" name="proveedor">
      <option value="">-- Selecciona proveedor --</option>
      {% for prov in proveedores %}
        <option value="{{ prov.id }}" {% if producto.proveedor and producto.proveedor.id == prov.id %}selected{% endif %}>
          {{ prov.nombre }} — {{ prov.empresa }}
        </option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <label>Sucursal</label>
    <select class="form-select" name="sucursal">
      <option value="Sucursal 1" {% if producto.sucursal == "Sucursal 1" %}selected{% endif %}>Sucursal 1</option>
      <option value="Sucursal 2" {% if producto.sucursal == "Sucursal 2" %}selected{% endif %}>Sucursal 2</option>
    </select>
  </div>

  <button class="btn btn-primary" type="submit">Actualizar</button>
  <a href="{% url 'ver_productos' %}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}
